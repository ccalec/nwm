define("",["./../breeze/framework/js/BreezeFW","./../breeze/framework/js/tools/DateTime"],function(require){var e=require("./../breeze/framework/js/BreezeFW");return require("./../breeze/framework/js/tools/DateTime")(e),e.register({param:{},name:"cartActionGadget","private":{privateAddToCart:function(t,r){var o=parseInt(r)||1,a=e.use().load("SSGoodsList")||[],i=!0;if(a.length)for(var n=0;n<a.length;n++)if(a[n].skuid==t.skuid){var s=parseInt(a[n].inventory);o+parseInt(a[n].number)>s?o=s:o+=parseInt(a[n].number),a[n].number=o.toString(),e.use().save("SSGoodsList",a),i=!1;break}i&&(t.number=o.toString(),a.push(t),e.use().save("SSGoodsList",a)),this.API.private("privateCallCartInfo")},privateCancelOrder:function(){confirm("\u60a8\u786e\u5b9a\u9700\u8981\u6e05\u7a7a\u8d2d\u7269\u8f66\u5417\uff1f")&&(e.use().save("SSGoodsList",null),document.location.href=document.location.href)},privateGoToCheck:function(){for(var e=[],t=0,r=0,o=0,a=0;a<this.MY.cartInfo.length;a++){var i="checkbox"+this.MY.cartInfo[a].skuid;document.getElementById(i).checked&&(this.MY.cartInfo[a].number=document.getElementById("proqty"+this.MY.cartInfo[a].skuid).value,this.MY.cartInfo[a].totalPrice=parseInt(this.MY.cartInfo[a].number)*parseInt(this.MY.cartInfo[a].price),t+=parseInt(this.MY.cartInfo[a].number),r+=parseInt(this.MY.cartInfo[a].totalPrice),o+=parseInt(r),e.push(this.MY.cartInfo[a]))}for(var a=0;a<e.length;a++)e[a].count=t,e[a].goodsTotalPrice=r,e[a].goodsTotalPriceWithFreight=o;e.length?this.API.show("viewFillTheOrderInformation",e,"viewShowFillTheOrderInformation"):(alert("\u60a8\u7684\u8d2d\u7269\u8f66\u5185\u6ca1\u6709\u5546\u54c1\uff01\u8bf7\u5148\u9009\u62e9\u5546\u54c1\u3002"),document.location.href="product_shoppingCart.jsp")},privateSubmitOrder:function(e){this.API.show("viewCommitFill",e,"viewShowCommitFill")},privateCallCartInfo:function(){for(var t=e.use().load("SSGoodsList")||[],r=0,o=0,a=0;a<t.length;a++)r+=parseFloat((parseInt(t[a].number)*parseFloat(t[a].price)).toFixed(2)),o+=parseInt(t[a].number);var i="\u6211\u7684\u8d2d\u7269\u8f66 \u5171 <span class='red'>("+o+")</span> \u4ef6\u5546\u54c1\uff0c\u5171\u8ba1<span class='red'>"+r+"</span>\u5143",n="<div id='cBoxWrap'>";n+="<div id='cBoxClose'><a href='javascript:void(0);'>close</a></div>",n+="<div id='cBoxCon'><div class='shopcar_pop_01'>",n+="<p><strong style='font-size:14px'>\u8be5\u5546\u54c1\u5df2\u6210\u529f\u52a0\u5165\u8d2d\u7269\u8f66</strong><br><a title='\u67e5\u770b\u8d2d\u7269\u8f66' href='shoppingCart.jsp'>"+i+"</a></p>",n+="<a class='shopcar_pop_btn01' href='product_shoppingCart.jsp'>\u53bb\u8d2d\u7269\u8f66\u7ed3\u7b97</a>",n+="<a class='shopcar_pop_btn02' href='javascript:void(0)' onclick='$(\"#cBoxClose a\").click()'>\u7ee7\u7eed\u8d2d\u7269</a>",n+="</div></div></div>",e.blockUI(n,($(window).width()-400)/2,($(window).height()-140)/2,400,140,0),$("#cBoxClose a").click(function(){e.unblockUI()})}}}),e});