define("",["./../breeze/framework/js/BreezeFW","./../breeze/framework/js/tools/DateTime"],function(require){var e=require("./../breeze/framework/js/BreezeFW");return require("./../breeze/framework/js/tools/DateTime")(e),e.register({param:{viewObj:"nodeList",alias:null,id:null,pageLen:10,orderby:[{name:"id",desc:"true"}],btnShowMore:"pageDv",mainView:"view_main",condiction:{}},name:"cmsViewGadget",onCreate:function(){var a=this;return a.pageNo=0,a.param.viewObj?(a.alias=a.param.alias||e.use().getParameter("alias"),a.alias?(a.id=a.param.id||e.use().getParameter("id"),a.serverName="",a.package="cms",a.doServerParam={alias:a.alias,param:a.param.condiction,spes:{orderby:this.param.orderby,limit:{start:0,length:a.param.pageLen+1+""}}},"nodeList"==a.param.viewObj&&(a.serverName="queryNode",a.doServerParam.param.nodeid=a.id||"0"),"contentList"==a.param.viewObj&&(a.serverName="queryData",a.id&&"-1"!=a.id&&(a.doServerParam.param.nodeid=a.id)),"contentDetail"==a.param.viewObj&&(a.serverName="queryData",delete a.doServerParam.spes,a.id&&(a.doServerParam.param.id=a.id)),"firstContent"==a.param.viewObj&&(a.serverName="queryData",a.doServerParam.spes.limit.length=1,a.id&&(a.doServerParam.param.nodeid=a.id)),a.MY.getData=function(e){("nodeList"==a.param.viewObj||"contentList"==a.param.viewObj)&&(a.doServerParam.spes.limit.start=a.pageNo*a.param.pageLen+""),a.API.doServer(a.serverName,a.package,a.doServerParam,function(r,i){r>0&&i.cmsdata?(("nodeList"==a.param.viewObj||"contentList"==a.param.viewObj)&&(i.cmsdata.length==this.doServerParam.spes.limit.length?(i.cmsdata.pop(),a.API.find("#"+a.param.btnShowMore).show()):a.API.find("#"+a.param.btnShowMore).hide()),e?a.API.append(a.param.mainView,i.cmsdata,a.param.mainView):a.API.show(a.param.mainView,i.cmsdata)):a.API.show("view_"+a.param.viewObj)})},a.MY.getData(),void 0):(alert("\u672a\u6307\u5b9aalias\uff01"),void 0)):(alert("\u672a\u6307\u5b9a\u89c6\u56fe\u53c2\u6570viewObj\uff01"),void 0)},FireEvent:{showMore:function(){this.pageNo++,this.MY.getData(!0)}},TrigerEvent:{trigerSearch:function(e,a){e==this.id&&(this.pageNo=0,this.doServerParam.method="query",this.doServerParam.param=this.doServerParam.param||{},delete this.doServerParam.param.nodeid,this.doServerParam.param.title="%"+a+"%",this.doServerParam.param.simpleDesc="%"+a+"%",this.MY.getData())}}}),e});