define("",["./../breeze/framework/js/BreezeFW","./../breeze/framework/js/tools/Widget","./../breeze/framework/js/tools/DateTime"],function(require){var e=require("./../breeze/framework/js/BreezeFW");return require("./../breeze/framework/js/tools/Widget")(e),require("./../breeze/framework/js/tools/DateTime")(e),e.register({param:{modelDesc:{store_id:{title:"\u5e97\u94faID",type:"Text",islist:1},store_name:{title:"\u5e97\u94fa\u540d\u79f0",type:"Text",islist:1},store_cash_amount:{title:"\u5e97\u94fa\u6536\u5165\u603b\u91d1\u989d",type:"Price",islist:1},store_user_count:{title:"\u4f1a\u5458\u603b\u6570\u91cf",type:"Text",islist:1},user_prepaid:{title:"\u4f1a\u5458\u5145\u503c\u603b\u91d1\u989d",type:"Price",islist:1},store_cash_score:{title:"\u6d88\u8d39\u603b\u79ef\u5206\u503c",type:"Text",islist:1},store_bd_score:{title:"\u53d8\u52a8\u79ef\u5206\u503c",type:"Text",islist:1},store_technic_count:{title:"\u6280\u5e08\u603b\u6570",type:"Text",islist:1},store_push_amount:{title:"\u6280\u5e08\u63d0\u6210\u603b\u91d1\u989d",type:"Price",islist:1},store_case_count:{title:"\u5c31\u8bca\u8bb0\u5f55\u6570",type:"Text",islist:1},store_goods_count:{title:"\u5546\u54c1\u603b\u6570",type:"Text",islist:1},store_services_count:{title:"\u670d\u52a1\u9879\u76ee\u603b\u6570",type:"Text",islist:1}},totalPamrm:{store:{selFields:["id","name"]},cash_detail:{aggrModel:{fields:[{fieldName:"total_amount",asName:"store_cash_amount",type:"sum"},{fieldName:"push_amount",asName:"store_push_amount",type:"sum"},"store_id"],groupByField:"store_id"}},score_record:[{aggrModel:{fields:[{fieldName:"score",asName:"store_cash_score",type:"sum"},"store_id"],groupByField:"store_id"},tableWhere:"nw_score_record.from_type = 1"},{aggrModel:{fields:[{fieldName:"score",asName:"store_bd_score",type:"sum"},"store_id"],groupByField:"store_id"},tableWhere:"nw_score_record.from_type = 2"}],user:{aggrModel:{fields:[{fieldName:"id",asName:"store_user_count",type:"count"},"store_id"],groupByField:"store_id"}},prepaid_record:{aggrModel:{fields:[{fieldName:"amount",asName:"store_user_count",type:"sum"},"store_id"],groupByField:"store_id"}},technician:{aggrModel:{fields:[{fieldName:"id",asName:"store_technic_count",type:"count"},"store_id"],groupByField:"store_id"}},"case":{aggrModel:{fields:[{fieldName:"id",asName:"store_case_count",type:"count"},"store_id"],groupByField:"store_id"}},goods:{aggrModel:{fields:[{fieldName:"id",asName:"store_goods_count",type:"count"},"store_id"],groupByField:"store_id"}},services:{aggrModel:{fields:[{fieldName:"id",asName:"store_services_count",type:"count"},"store_id"],groupByField:"store_id"}}}},name:"tjStoreDataGadget","extends":[],onCreate:function(){this.API.private("showDefault"),this.API.show("viewContentList"),this.MY.formDom=this.API.find("#formContentList"),this.MY.param={alias:"",target:"self",resultSet:""}},"private":{showDefault:function(){function t(e){var t=$.extend({},r.MY.param,e);"store"==t.alias?t.filterFields=[{keyField:"id",type:"int"}]:(t.filterFields=[{keyField:"store_id",type:"int"}],t.filterParam=t.filterParam&&t.filterParam.id?{store_id:t.filterParam.id}:{}),r.API.addPost("queryData","cms",t,function(e,r){if(e>0&&r&&r.listData&&r.listData.length)for(var i=0;i<r.listData.length;i++){var o=r.listData[i];"store"==t.alias&&(o.store_id=o.id,o.store_name=o.name);var a=o.store_id;s[a]=s[a]||{},s[a]=$.extend({},s[a],o)}})}var r=this;r.API.initPost();var s={},i=r.param.totalPamrm;for(var o in i){var a=i[o];if("[object Array]"===toString.apply(a))for(var l=0;l<a.length;l++)!function(e,r){var s=a[e];s.alias=r,t(s)}(l,o);else a.alias=o,t(a)}r.API.doPost(function(){var t=[];for(var i in s)t.push(s[i]);e.use().createFormList(r.param.modelDesc,r.MY.formDom,t,null,2)})}},FireEvent:{},TrigerEvent:{trigerUpdatefilterParam:function(e){this.MY.param.filterParam=e&&e.filterParam,this.API.private("showDefault")}}}),e});